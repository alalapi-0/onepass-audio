# onepass_cli.py

- 最后更新时间：2025-11-02 01:47:40 +0900

## 功能概述
OnePass Audio 的批处理命令行前端，整合文本规范化、保留最后一遍导出、音频渲染等子流程，提供并发处理、报告生成和统一日志管理，方便在素材目录上批量运行完整流水线。

## 关键职责
- 通过子命令或内部调度加载词级 JSON、推断文本稿、调用 `compute_retake_keep_last` 并导出字幕/文本/EDL/标记。
- 集成 `text_norm` 规范化管线，支持字符映射、OpenCC、可疑字符扫描，并将统计追加到 CSV 报告。
- 使用 `ThreadPoolExecutor` 并发处理多章节，同时追踪耗时、输出 JSON 汇总、渲染干净音频并写入日志。
- 提供命令示例、输出目录校验等辅助函数，提高 CLI 易用性与安全性。
